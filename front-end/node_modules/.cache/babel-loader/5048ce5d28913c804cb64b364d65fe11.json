{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _toConsumableArray from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/src/components/Profile.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  color: var(--main-green);\\n  span {\\n    color: var(--main-text-color);\\n  }\\n  p {\\n    color: var(--main-text-color);\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: grid;\\n  padding: 1rem;\\n  grid-template-columns: repeat(5, 1fr);\\n  grid-row-gap: 1rem;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport User from './auth/User';\nimport PleaseSignin from './auth/PleaseSignin';\nimport MoviePoster from './MoviePoster';\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Profile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      movieSeenItems: 0,\n      moviesFavoriteItems: 0\n    };\n\n    _this.nextFavMovie = function () {\n      _this.setState({\n        movieSeenItems: _this.state.moviesFavoriteItems + 1\n      });\n    };\n\n    _this.lastFavMovie = function () {\n      _this.setState({\n        movieSeenItems: _this.state.moviesFavoriteItems - 1\n      });\n    };\n\n    _this.nextSeenMovie = function () {\n      _this.setState({\n        movieSeenItems: _this.state.movieSeenItems + 1\n      });\n    };\n\n    _this.lastSeenMovie = function () {\n      _this.setState({\n        movieSeenItems: _this.state.movieSeenItems - 1\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          movieSeenItems = _this$state.movieSeenItems,\n          moviesFavoriteItems = _this$state.moviesFavoriteItems;\n      return React.createElement(PleaseSignin, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(User, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, function (_ref) {\n        var currentUser = _ref.data.currentUser,\n            loading = _ref.loading;\n        if (loading) return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, \"Loading...\");\n\n        var moviesSeenFirst = _toConsumableArray(currentUser.moviesSeen).reverse();\n\n        var limitMoviesSeen = moviesSeenFirst.splice(movieSeenItems, 5);\n        var moviesSeenLeft = currentUser.moviesSeen.length - moviesSeenFirst.length;\n\n        var moviesFavoriteFirst = _toConsumableArray(currentUser.favorites).reverse();\n\n        var limitMovieFavorites = moviesFavoriteFirst.splice(moviesFavoriteItems, 5);\n        var moviesFavoriteLeft = currentUser.moviesSeen.length - moviesFavoriteFirst.length;\n        var fav = moviesFavoriteItems < moviesFavoriteLeft - 1;\n        var showFavNext = fav && currentUser.favorites > 5;\n        var seen = movieSeenItems < moviesSeenLeft - 1;\n        var showSeenNext = seen && currentUser.moviesSeen > 5;\n        return React.createElement(ProfileWrapper, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, currentUser.username, \"'s Profile\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, currentUser.email), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"Favorites\"), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, currentUser.favorites.length), React.createElement(MovieGrid, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, limitMovieFavorites.map(function (fav) {\n          return React.createElement(MoviePoster, {\n            movie: fav,\n            key: fav.title,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          });\n        })), moviesFavoriteItems > 0 && React.createElement(\"button\", {\n          onClick: _this2.lastFavMovie,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"last\"), showFavNext && React.createElement(\"button\", {\n          onClick: _this2.nextFavMovie,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, \"next\"), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Movies Seen\"), \" \", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, currentUser.moviesSeen.length), React.createElement(MovieGrid, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, limitMoviesSeen.map(function (movie) {\n          return React.createElement(MoviePoster, {\n            movie: movie,\n            key: movie.title,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          });\n        })), movieSeenItems > 0 && React.createElement(\"button\", {\n          onClick: _this2.lastSeenMovie,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"last\"), showSeenNext && React.createElement(\"button\", {\n          onClick: _this2.nextSeenMovie,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, \"next\"));\n      }));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default Profile;\nvar MovieGrid = styled.div(_templateObject());\nvar ProfileWrapper = styled.div(_templateObject2());","map":{"version":3,"sources":["/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/src/components/Profile.js"],"names":["React","Component","styled","User","PleaseSignin","MoviePoster","Profile","state","movieSeenItems","moviesFavoriteItems","nextFavMovie","setState","lastFavMovie","nextSeenMovie","lastSeenMovie","currentUser","data","loading","moviesSeenFirst","moviesSeen","reverse","limitMoviesSeen","splice","moviesSeenLeft","length","moviesFavoriteFirst","favorites","limitMovieFavorites","moviesFavoriteLeft","fav","showFavNext","seen","showSeenNext","username","email","map","title","movie","MovieGrid","div","ProfileWrapper"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport User from './auth/User';\nimport PleaseSignin from './auth/PleaseSignin';\nimport MoviePoster from './MoviePoster';\n\n\nclass Profile extends Component {\n  state = {\n    movieSeenItems: 0,\n    moviesFavoriteItems: 0\n  }\n  nextFavMovie = () => {\n    this.setState({\n      movieSeenItems: this.state.moviesFavoriteItems + 1\n    })\n  }\n  lastFavMovie = () => {\n    this.setState({\n      movieSeenItems: this.state.moviesFavoriteItems - 1\n    })\n  }\n  nextSeenMovie = () => {\n    this.setState({\n      movieSeenItems: this.state.movieSeenItems + 1\n    })\n  }\n  lastSeenMovie = () => {\n    this.setState({\n      movieSeenItems: this.state.movieSeenItems - 1\n    })\n  }\n  render() {\n    const { movieSeenItems, moviesFavoriteItems } = this.state;\n    return (\n    <PleaseSignin>\n            <User>\n            {({data: {currentUser}, loading}) => {\n                if(loading) return <p>Loading...</p>;\n                const moviesSeenFirst = [...currentUser.moviesSeen].reverse();\n                const limitMoviesSeen = moviesSeenFirst.splice(movieSeenItems, 5);\n                const moviesSeenLeft = (currentUser.moviesSeen.length - moviesSeenFirst.length);\n                const moviesFavoriteFirst = [...currentUser.favorites].reverse();\n                const limitMovieFavorites = moviesFavoriteFirst.splice(moviesFavoriteItems, 5);\n                const moviesFavoriteLeft = (currentUser.moviesSeen.length - moviesFavoriteFirst.length);\n                const fav = moviesFavoriteItems < moviesFavoriteLeft -1;\n                const showFavNext = fav && currentUser.favorites > 5;\n                const seen = movieSeenItems < moviesSeenLeft -1;\n                const showSeenNext = seen && currentUser.moviesSeen > 5\n                return(\n                <ProfileWrapper>\n                    <h1>{currentUser.username}'s Profile</h1>\n                    <p>{currentUser.email}</p>\n                    <h3>Favorites</h3><span>{currentUser.favorites.length}</span>\n                    <MovieGrid>\n                            {limitMovieFavorites.map(fav => (\n                            <MoviePoster movie={fav} key={fav.title} />\n                            ))}\n                    </MovieGrid>\n                    {moviesFavoriteItems > 0 && <button onClick={this.lastFavMovie}>last</button>}\n                    {showFavNext && <button onClick={this.nextFavMovie}>next</button>}\n                    <h3>Movies Seen</h3> <span>{currentUser.moviesSeen.length}</span>\n                    <MovieGrid>\n                      {limitMoviesSeen.map(movie => {\n                        return(\n                        <MoviePoster movie={movie} key={movie.title}/>\n                      )})}\n                    </MovieGrid>\n                      {movieSeenItems > 0 && <button onClick={this.lastSeenMovie}>last</button>}\n                      {showSeenNext && <button onClick={this.nextSeenMovie}>next</button>}\n                </ProfileWrapper>\n                )}}\n            </User>\n    </PleaseSignin>\n    )\n  }\n}\nexport default Profile;\n\nconst MovieGrid = styled.div`\n  display: grid;\n  padding: 1rem;\n  grid-template-columns: repeat(5, 1fr);\n  grid-row-gap: 1rem;\n`;\n\nconst ProfileWrapper = styled.div`\n  color: var(--main-green);\n  span {\n    color: var(--main-text-color);\n  }\n  p {\n    color: var(--main-text-color);\n  }\n`;"]},"metadata":{},"sourceType":"module"}