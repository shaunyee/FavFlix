{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _toConsumableArray from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/src/components/Profile.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  color: var(--main-green);\\n  span {\\n    color: var(--main-text-color);\\n  }\\n  p {\\n    color: var(--main-text-color);\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: grid;\\n  padding: 1rem;\\n  grid-template-columns: repeat(5, 1fr);\\n  grid-row-gap: 1rem;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport User from './auth/User';\nimport PleaseSignin from './auth/PleaseSignin';\nimport MoviePoster from './MoviePoster';\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Profile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      movieSeenItems: 0\n    };\n\n    _this.nextSeenMovie = function () {\n      _this.setState({\n        movieSeenItems: _this.state.movieSeenItems + 1\n      });\n    };\n\n    _this.lastSeenMovie = function () {\n      _this.setState({\n        movieSeenItems: _this.state.movieSeenItems - 1\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var movieSeenItems = this.state.movieSeenItems;\n      return React.createElement(PleaseSignin, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(User, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, function (_ref) {\n        var currentUser = _ref.data.currentUser,\n            loading = _ref.loading;\n        if (loading) return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, \"Loading...\");\n\n        var moviesSeenFirst = _toConsumableArray(currentUser.moviesSeen).reverse();\n\n        var limitMoviesSeen = moviesSeenFirst.splice(movieSeenItems, 5);\n        var moviesLeft = currentUser.moviesSeen.length - moviesSeenFirst.length;\n        console.log(moviesLeft);\n        return React.createElement(ProfileWrapper, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, currentUser.username, \"'s Profile\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, currentUser.email), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, \"Favorites\"), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, currentUser.favorites.length), React.createElement(MovieGrid, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, _toConsumableArray(currentUser.favorites).reverse().map(function (fav) {\n          return React.createElement(MoviePoster, {\n            movie: fav,\n            key: fav.title,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          });\n        })), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, \"Movies Seen\"), \" \", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, currentUser.moviesSeen.length), React.createElement(MovieGrid, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, limitMoviesSeen.map(function (movie) {\n          return React.createElement(MoviePoster, {\n            movie: movie,\n            key: movie.title,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          });\n        })), movieSeenItems > 0 && React.createElement(\"button\", {\n          onClick: _this2.lastSeenMovie,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, \"last\"), movieSeenItems < moviesLeft - 1 && React.createElement(\"button\", {\n          onClick: _this2.nextSeenMovie,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"next\"));\n      }));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default Profile;\nvar MovieGrid = styled.div(_templateObject());\nvar ProfileWrapper = styled.div(_templateObject2());","map":{"version":3,"sources":["/Users/yeezy/Desktop/projects/react/practice/fav-flix/front-end/src/components/Profile.js"],"names":["React","Component","styled","User","PleaseSignin","MoviePoster","Profile","state","movieSeenItems","nextSeenMovie","setState","lastSeenMovie","currentUser","data","loading","moviesSeenFirst","moviesSeen","reverse","limitMoviesSeen","splice","moviesLeft","length","console","log","username","email","favorites","map","fav","title","movie","MovieGrid","div","ProfileWrapper"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport User from './auth/User';\nimport PleaseSignin from './auth/PleaseSignin';\nimport MoviePoster from './MoviePoster';\n\n\nclass Profile extends Component {\n  state = {\n    movieSeenItems: 0\n  }\n  nextSeenMovie = () => {\n    this.setState({\n      movieSeenItems: this.state.movieSeenItems + 1\n    })\n  }\n  lastSeenMovie = () => {\n    this.setState({\n      movieSeenItems: this.state.movieSeenItems - 1\n    })\n  }\n  render() {\n    const { movieSeenItems } = this.state;\n    return (\n    <PleaseSignin>\n            <User>\n            {({data: {currentUser}, loading}) => {\n                if(loading) return <p>Loading...</p>;\n                const moviesSeenFirst = [...currentUser.moviesSeen].reverse();\n                const limitMoviesSeen = moviesSeenFirst.splice(movieSeenItems, 5);\n                const moviesLeft = (currentUser.moviesSeen.length - moviesSeenFirst.length);\n                console.log(moviesLeft)\n                return(\n                <ProfileWrapper>\n                    <h1>{currentUser.username}'s Profile</h1>\n                    <p>{currentUser.email}</p>\n                    <h3>Favorites</h3><span>{currentUser.favorites.length}</span>\n                    <MovieGrid>\n                            {[...currentUser.favorites].reverse().map(fav => (\n                            <MoviePoster movie={fav} key={fav.title} />\n                            ))}\n                    </MovieGrid>\n                    <h3>Movies Seen</h3> <span>{currentUser.moviesSeen.length}</span>\n                    <MovieGrid>\n                      {limitMoviesSeen.map(movie => {\n                        return(\n                        <MoviePoster movie={movie} key={movie.title}/>\n                      )})}\n                    </MovieGrid>\n                      {movieSeenItems > 0 && <button onClick={this.lastSeenMovie}>last</button>}\n                      {(movieSeenItems < moviesLeft -1) && <button onClick={this.nextSeenMovie}>next</button>}\n                </ProfileWrapper>\n                )}}\n            </User>\n    </PleaseSignin>\n    )\n  }\n}\nexport default Profile;\n\nconst MovieGrid = styled.div`\n  display: grid;\n  padding: 1rem;\n  grid-template-columns: repeat(5, 1fr);\n  grid-row-gap: 1rem;\n`;\n\nconst ProfileWrapper = styled.div`\n  color: var(--main-green);\n  span {\n    color: var(--main-text-color);\n  }\n  p {\n    color: var(--main-text-color);\n  }\n`;"]},"metadata":{},"sourceType":"module"}